---
import { LandingModeSwitcherIsland } from '@/islands/landing/LandingModeSwitcher';
import { getSession } from 'auth-astro/server';
import { MAX_FILE_SIZE_MB, MAX_SECRET_LENGTH, LOGIN_REQUIRED } from 'astro:env/server';

const session = await getSession(Astro.request);
const isLoggedIn = !!session?.user;
---

<LandingModeSwitcherIsland
  client:load
  maxFileSizeMB={MAX_FILE_SIZE_MB}
  maxSecretLength={MAX_SECRET_LENGTH}
  loginRequired={LOGIN_REQUIRED}
  isLoggedIn={isLoggedIn}
/>
